## Set up Nginx Reverse Proxy and Certbot SSL Certificates

### Run installation script
```bash
sudo ./install_nginx_ssl.sh $SERVER_DOMAIN_NAME

Example
sudo ./install_nginx_ssl.sh arms3uat-api-1.uit.yorku.ca
Enter the domain name for the SSL certificate (e.g., example.com): 
arms3uat-api-1.uit.yorku.ca
Enter your email address for urgent renewal and security notices (e.g., user@example.com): 
uit-eeas-team@yorku.ca
```
 
### Nginx / SSL configuration generated by installation script
```bash
/etc/nginx/sites-available/default
/etc/nginx/nginx.conf

e.g. nginx_config_updated_by_certbot.png
```

### Validate nginx configuration changes before restarting server:
```bash
sudo nginx -t
```

### Certbot SSL auto-renewal configuration
```bash
/etc/letsencrypt/renewal/arms3uat-api-1.uit.yorku.ca.conf
```

### Log files
```bash
sudo tail -f /var/log/nginx/error.log
sudo tail -f /var/log/nginx/access.log
```

### Nginx - Start / Stop / Restart
```bash
sudo systemctl start nginx
sudo systemctl stop nginx
sudo systemctl restart nginx
```

### SSL Certificate verification
- [SSL labs ](https://www.ssllabs.com/ssltest/) - Test the site's SSL Certificate and configuration at ssllabs (https://www.ssllabs.com/ssltest/)

### Firewall Changes
- As a prerequisite for Certbot's SSL Certificate installation and renewal, the installation script updates firewall iptables rules to listen on ports 80 & 443.  The script backs up the current firewall iptables rules in the same directory.

### Troubleshooting
- If Certbot still fails due to firewall errors, after making the above firewall iptables changes, verify with InfoSEC (Information Security at York) if servers are open to access from the outside world.

### Server Home page
- [https://arms3uat-api-1.uit.yorku.ca](https://arms3uat-api-1.uit.yorku.ca)